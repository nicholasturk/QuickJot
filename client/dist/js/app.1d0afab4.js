(function(){"use strict";var t={817:function(t,e,o){var n=o(8935),i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},s=[],a=o(1001),r={},c=(0,a.Z)(r,i,s,!1,null,null,null),l=c.exports,d=o(2814),u=o(2809),h=o(5237),p=o(5535),m=o(9239),v=o(81),f=o(6978),b=o(9009),y=function(){var t=this,e=this,o=e.$createElement,n=e._self._c||o;return n("div",{attrs:{id:"home-page"}},[n("alert"),n("key-press",{attrs:{"key-event":"keyup","key-code":83},on:{success:function(t){return e.activateSearch()}}}),n("key-press",{attrs:{"key-event":"keyup","key-code":27},on:{success:function(t){return e.deactivateSearch()}}}),n("key-press",{attrs:{"key-event":"keyup","key-code":65},on:{success:function(t){return e.addNote()}}}),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[e._v("quickjot")]),n("div",{staticClass:"controls"},[n("div",{staticClass:"input-section"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputBody,expression:"inputBody"}],staticClass:"note-input",style:{resize:this.isSearching?"none":""},attrs:{type:"text",id:"note-input",placeholder:e.inputText},domProps:{value:e.inputBody},on:{keydown:function(t){return 13!=t.keyCode||t.shiftKey?"":t.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitNote.apply(null,arguments)},input:function(t){t.target.composing||(e.inputBody=t.target.value)}}}),e._v(" "),n("div",{staticClass:"search-button"},[n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Search",expression:"'Search'"}],staticClass:"topButton",attrs:{id:"search-button",size:"2x",icon:"magnifying-glass",color:"#b1b4ba"},on:{click:function(t){return e.search()}}})],1)]),n("div",{staticClass:"topButtons"},[n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Help",expression:"'Help'"}],staticClass:"topButton grow-on-hover",attrs:{size:"2x",icon:"clipboard-question",id:"cbq",color:"#b1b4ba"},on:{click:function(t){return e.displayInfo()}}}),n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Copy shareable collection",expression:"'Copy shareable collection'"}],staticClass:"topButton grow-on-hover",attrs:{size:"2x",icon:"file-export",id:"export-button",color:"#b1b4ba"},on:{click:function(t){return e.exportCollection()}}}),n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete collection",expression:"'Delete collection'"}],staticClass:"topButton grow-on-hover",class:{"fa-shake":e.shouldShake},attrs:{size:"2x",icon:"bomb",color:"#b1b4ba"},on:{click:function(t){return e.clear()}}})],1)]),e.itemsFiltered.length>0?n("div",{staticClass:"filter-section"},[n("div",{staticClass:"filter-message"},[e._v(" "+e._s((this.reversed,""))+" ")]),n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Hide collection",expression:"`Hide collection`"}],staticClass:"topButton top-collapse grow-on-hover",attrs:{icon:"angles-up",color:"#b1b4ba"},on:{click:function(){return e.collapseAll(!1)}}}),n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Show collection",expression:"`Show collection`"}],staticClass:"topButton top-collapse grow-on-hover",attrs:{icon:"angles-down",color:"#b1b4ba"},on:{click:function(){return e.collapseAll(!0)}}}),n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Change layout",expression:"`Change layout`"}],staticClass:"topButton grow-on-hover",attrs:{size:"2x",id:"layout-button",icon:"grip",color:"#b1b4ba"},on:{click:function(){return e.addToCols()}}}),n("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Sort",expression:"`Sort`"}],staticClass:"topButton grow-on-hover",attrs:{size:"2x",id:"sort-button",icon:"sort",color:"#b1b4ba"},on:{click:function(){return t.reversed=!t.reversed}}})],1):e._e(),n("div",{staticClass:"ui grid"},[n("div",{class:e.colsNumToStr+" column row"},e._l(e.itemsFiltered,(function(t,o){return n("note-card",{key:(t.id,o),staticClass:"column",attrs:{content:t,isLast:o==e.itemsFiltered.length-1,isSecondLast:o==e.itemsFiltered.length-2,isThirdLast:o==e.itemsFiltered.length-3,numCols:e.numCols,lastAdded:e.lastAdded===t[0]},on:{deleteItem:e.deleteItem,addItem:e.addItem}})})),1)])])],1)},g=[],C=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"note-card-root"},[o("div",{staticClass:"note-card",class:{"not-last-card":!t.isLastish,"nc-bl":!t.isLastish&&1===t.numCols,"note-card-lg":!0},attrs:{id:t.content[0]}},[t.isLastish||1!==t.numCols?t._e():o("div",{domProps:{innerHTML:t._s(t.dateSinceCss)}}),o("div",{staticClass:"card-container item-background"},[o("div",{staticClass:"card-header",class:{"border-bottom":t.showContent}},[o("div",{staticClass:"card-button"},[o("font-awesome-icon",{staticClass:"show-arrow collapse",attrs:{icon:t.showContent?"caret-down":"caret-right",size:"xl",color:"#b1b4ba"},on:{click:t.collapse}})],1),o("div",{staticClass:"card-info"},[o("span",{staticClass:"card-header-text"},[t._v(" "+t._s(t.timeSince(t.content[0])+(t.showContent?"":","))+" ")]),t.showContent?t._e():o("span",{staticClass:"preview card-content-text"},[t._v(" "+t._s(t.preview)+" ")])]),o("div",{staticClass:"card-buttons"},[o("div",{on:{click:function(e){return t.copyToClipboard()}}},[o("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Copy to clipboard",expression:"'Copy to clipboard'"}],staticClass:"card-button",attrs:{icon:"clipboard",size:"lg",color:"#b1b4ba"}})],1),o("div",{on:{click:function(e){return t.generateLink()}}},[o("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Copy shareable link",expression:"'Copy shareable link'"}],staticClass:"card-button",attrs:{icon:"link",size:"lg",color:"#b1b4ba"}})],1),o("div",{on:{click:function(e){return t.clone()}}},[o("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Clone",expression:"'Clone'"}],staticClass:"card-button",attrs:{icon:"clone",size:"lg",color:"#b1b4ba"}})],1),o("div",{on:{click:function(e){return t.$emit("deleteItem",t.content[0])}}},[o("font-awesome-icon",{directives:[{name:"tooltip",rawName:"v-tooltip",value:"Delete note",expression:"'Delete note'"}],staticClass:"card-button",attrs:{icon:"trash-can",size:"lg",color:"#b1b4ba"}})],1)])]),t.showContent?o("div",{staticClass:"card-content"},[o("span",{staticClass:"starter"},[t._v(">")]),o("div",{staticClass:"card-content-text"},[t._v(t._s(t.content[1]))])]):t._e()])])])},w=[],k={props:["content","isLast","isSecondLast","isThirdLast","numCols"],data(){return{showContent:!0}},created(){this.$parent.$on("hideOrShowAll",this.hideOrShow)},methods:{hideOrShow(t){this.showContent=t},collapse(){this.showContent=!this.showContent},clone(){this.$emit("addItem",this.content[1]),this.notify("Note cloned.")},timeSince(t){var e=Math.floor((new Date-t)/1e3);if(0===e)return"just now";var o=e/31536e3,n="";o>=1?n="year":(o=e/2592e3,o>=1?n="month":(o=e/86400,o>=1?n="day":(o=e/3600,o>=1?n="hour":(o=e/60,n=o>=1?"minute":"second"))));let i="second"!==n?Math.floor(o):e;return`${i} ${n}${i>1?"s":""} ago`},async generateLink(){let t=`linknote=${encodeURIComponent(this.content[1])}`,e=`${location.protocol}//${location.host}${location.pathname}?${t}`;e.length>2048?this.notify("Error: Note too large to share. Must be under 2000 characters."):(await navigator.clipboard.writeText(e),this.notify("Shareable collection link copied to clipboard."))},async copyToClipboard(){await navigator.clipboard.writeText(this.content[1]),this.notify("Note content copied to clipboard.")},notify(t){this.$notify({message:t,type:"",top:!0,bottom:!1,left:!1,right:!1,showClose:!1,closeDelay:3e3})}},computed:{isLastish(){let t=this.isLast;return this.numCols>=2&&(t=t||this.isSecondLast),this.numCols>=3&&(t=t||this.isThirdLast),t},preview(){return" "+this.content[1].substring(0,20)+"..."},dateSinceCss(){return'<style>\n      .note-card-root::before{\n        color: #d9dce2;\n        display: inline-block;\n        font-size: 17px;\n        float: left;\n        margin-left: 0.5px;\n        margin-top: -10px;\n        letter-spacing: 4px;\n        height: 10px;\n        content: "-------------";\n      }</style>'}}},x=k,S=(0,a.Z)(x,C,w,!1,null,null,null),I=S.exports,$={name:"HomePage",components:{NoteCard:I},data(){return{lastAdded:-1,inputBody:"",numCols:1,items:[],shouldShake:!1,isSearching:!1,linknote:!1,linknotes:!1,reversed:!1}},mounted(){this.getItems(),"linknote"in this.$route.query?(this.linknote=!0,this.addItem(this.$route.query.linknote),this.$router.push(this.$route.path)):"linknotes"in this.$route.query&&(this.$route.query.linknotes.split(this.$route.query.joiner).forEach((t=>this.addItem(t))),this.$router.push(this.$route.path))},computed:{colsNumToStr(){let t={1:"one",2:"two",3:"three"};return t[this.numCols]},searchBody(){return this.isSearching?this.inputBody:""},itemsFiltered(){let t=this.items.filter((t=>t[1].match(this.searchBody)));return this.reversed?t.sort(((t,e)=>t[0]-e[0])):t.sort(((t,e)=>e[0]-t[0])),t},inputText(){return this.isSearching?"Search for a note...":"Add a note"}},methods:{collapseAll(t){this.$emit("hideOrShowAll",t)},addToCols(){3===this.numCols?this.numCols=1:this.numCols+=1},displayInfo(){this.$alert.present("Info","This app uses local storage. Clearing cache will remove all notes.\n\n\nHotkeys:\n\nA: add note (enter to submit)\n\nS: search for note\n\nesc: unfocus textarea/stop searching or exit this modal\n\nshift + enter: for new line in textarea")},addNote(){!document.getElementById("note-input")===document.activeElement||this.isSearching||document.getElementById("note-input").focus()},deleteItem(t){this.items.splice(this.items.map((t=>t[0])).indexOf(t),1),localStorage.removeItem(t)},addItem(t){let e=Date.now(),o=t;null!==localStorage.getItem(e)&&(e+=1),this.reversed?("\n"===t[-1]&&(o=t.slice(0,-1)),this.items.push([e,o,!0])):this.items.unshift([e,o,!0]),localStorage.setItem(e,o),this.lastAdded=e},async exportCollection(){let t="_"+Math.random().toString(36).substr(2,5),e=this.items.map((t=>encodeURIComponent(t[1]))).join(t),o=`linknotes=${e}&joiner=${t}`,n=`${location.protocol}//${location.host}${location.pathname}?${o}`;n.length>2048?this.notify("Error: Collection too large. Must be under 2000 characters."):(await navigator.clipboard.writeText(n),0===e.length?this.notify("Copied, but you might want to add some notes first..."):this.notify("Shareable collection link copied to clipboard."))},notify(t){this.$notify({message:t,type:"",top:!0,bottom:!1,left:!1,right:!1,showClose:!1,closeDelay:3e3})},submitNote(t){t.shiftKey||this.isSearching||(this.addItem(this.inputBody),this.inputBody="")},activateSearch(t){this.isSearching||document.getElementById("note-input")===document.activeElement||this.search()},deactivateSearch(t){this.isSearching&&this.search(),document.getElementById("note-input").blur()},search(){document.getElementById("note-input").focus();document.getElementById("search-button");this.isSearching=!this.isSearching},getItems(){this.items=Object.entries(localStorage).filter((t=>"randid"!=t[0]))},clear(){this.shouldShake=!0,this.items.forEach((t=>localStorage.removeItem(t[0]))),this.getItems(),setTimeout((()=>{this.shouldShake=!1}),1e3)}}},B=$,_=(0,a.Z)(B,y,g,!1,null,null,null),N=_.exports,T=[{path:"/",component:N}];v.vI.add(f.O97),v.vI.add(f.UAH),v.vI.add(f.O97),v.vI.add(f.BC0),v.vI.add(f.eW2),v.vI.add(f.I4f),v.vI.add(f.irx),v.vI.add(f.ca9),v.vI.add(f.Y$T),v.vI.add(f.Yme),v.vI.add(f.CmM),v.vI.add(f.WM4),v.vI.add(f.Yjj),v.vI.add(f.Vui),v.vI.add(f.nNP),v.vI.add(f.QR4),n.Z.use(u.Z),n.Z.use(m.ZP),n.Z.use(d.Z),n.Z.use(p.Z,{developerMode:!0,presentBlockTime:100,dismissBlockTime:100}),n.Z.component("key-press",h.Z),n.Z.component("font-awesome-icon",b.GN),n.Z.config.productionTip=!1;const O=new u.Z({routes:T,mode:"history"});new n.Z({router:O,render:t=>t(l)}).$mount("#app")}},e={};function o(n){var i=e[n];if(void 0!==i)return i.exports;var s=e[n]={id:n,loaded:!1,exports:{}};return t[n](s,s.exports,o),s.loaded=!0,s.exports}o.m=t,function(){var t=[];o.O=function(e,n,i,s){if(!n){var a=1/0;for(d=0;d<t.length;d++){n=t[d][0],i=t[d][1],s=t[d][2];for(var r=!0,c=0;c<n.length;c++)(!1&s||a>=s)&&Object.keys(o.O).every((function(t){return o.O[t](n[c])}))?n.splice(c--,1):(r=!1,s<a&&(a=s));if(r){t.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}s=s||0;for(var d=t.length;d>0&&t[d-1][2]>s;d--)t[d]=t[d-1];t[d]=[n,i,s]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,s,a=n[0],r=n[1],c=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(c)var d=c(o)}for(e&&e(n);l<a.length;l++)s=a[l],o.o(t,s)&&t[s]&&t[s][0](),t[s]=0;return o.O(d)},n=self["webpackChunkclient"]=self["webpackChunkclient"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(817)}));n=o.O(n)})();
//# sourceMappingURL=app.1d0afab4.js.map